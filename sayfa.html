<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Çalışma Kâğıdı Oluştur</title>

  <!-- Yazı tipi ve genel stil -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="stil.css" />

  <!-- Konu menü şeridi + yazdır başlığı için minimal ek stil -->
  <style>
    .konu-wrap { display: grid; gap: 8px; }
    .konu-menu {
      display: flex; gap: 8px; align-items: center;
      overflow-x: auto; padding: 6px 2px;
      scrollbar-width: thin;
    }
    .konu-btn {
      border: 1px solid rgba(0,0,0,.12);
      background: #fff;
      border-radius: 999px;
      padding: 8px 12px;
      font-weight: 600;
      cursor: pointer;
      white-space: nowrap;
      transition: transform .12s ease, box-shadow .15s ease, filter .15s ease, background .2s ease;
    }
    .konu-btn:hover { transform: translateY(-1px); box-shadow: 0 6px 16px rgba(0,0,0,.12); }
    .konu-btn.active {
      color: #fff;
      border-color: transparent;
      background: linear-gradient(135deg, #6a5bfd, #2cb4ff);
      box-shadow: 0 8px 18px rgba(0,0,0,.18);
    }
    @media (max-width: 520px){
      .konu-menu { gap: 6px; }
      .konu-btn { padding: 7px 10px; font-size: 14px; }
    }

    /* Yalnız yazdırda görünen büyük başlık — inceltilmiş */
    .print-banner { display: none; }
    @media print {
      .controls, .home-btn, .page-header, .site-footer { display: none !important; }
      .print-banner { display: block; text-align: center; margin: 4mm 0 2mm; }
      .print-banner .pb-title { font-weight: 800; font-size: 14pt; }
      .print-banner .pb-rule { border: 0; border-top: 1px solid #000; margin: 2mm 8mm 0; }
      #printArea { box-shadow: none !important; border: 0 !important; padding-top: 0 !important; }
    }
  </style>
</head>
<body class="page">

  <!-- Üst başlık -->
  <header class="page-header">
    <a class="back" href="index.html">← Ana sayfa</a>
    <h1 id="baslik">Sınıf</h1>
  </header>

  <!-- Kontroller (KONU MENÜSÜ + TARİH) -->
  <section class="controls glass">
    <div class="control-row">
      <div class="control-tile konu-wrap">
        <label style="font-weight:700">Konu:</label>
        <nav id="konuMenu" class="konu-menu" aria-label="Konular">
          <!-- script.js butonları burada oluşturur -->
        </nav>
      </div>

      <label class="control-tile">
        Tarih:
        <input id="tarih" type="date" />
      </label>
    </div>

    <div class="control-row">
      <button id="olusturBtn" class="btn primary">🎲 Yeni Kağıt Oluştur</button>
      <button id="pdfBtn" class="btn">📄 PDF İndir</button>
      <button id="printBtn" class="btn">🖨️ Yazdır</button>
    </div>
  </section>

  <!-- Yazdır/PDF alanı -->
  <section id="printArea" class="questions shadow paper">

    <!-- Yalnız yazdırda gözüken başlık -->
    <div id="printBanner" class="print-banner" aria-hidden="true">
      <div id="pbTitle" class="pb-title">1. Sınıf / Konu Problemleri</div>
      <hr class="pb-rule"/>
    </div>

    <header class="paper-header">
      <div><strong>Adı Soyadı:</strong> <span id="h_ad"></span></div>
      <div><strong>Tarih:</strong> <span id="h_tarih"></span></div>
      <!-- “Sınıf/Konu” satırı kaldırıldı -->
    </header>

    <div class="paper-body">
      <ol id="soruListe" class="two-col"></ol>
    </div>

    <footer class="paper-footer">Problem Dünyası • Sayfa 1/1</footer>
  </section>

  <!-- Site altbilgi -->
  <footer class="site-footer">
    <div class="footer-inner">
      <nav class="footer-links">
        <a href="hakkimizda.html">Hakkımızda</a>
        <a href="gizlilik.html">Gizlilik</a>
        <a href="cerezler.html">Çerezler</a>
        <a href="kvkk.html">KVKK</a>
        <a href="feedback.html">İletişim</a>
      </nav>
      <p class="copyright">© <span id="yil"></span> Problem Dünyası</p>
    </div>
    <script>document.getElementById('yil').textContent = new Date().getFullYear();</script>
  </footer>

  <!-- Ana sayfa simgesi -->
  <a class="home-btn" href="index.html" aria-label="Ana sayfa">
    <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
      <path d="M10.707 2.293a1 1 0 0 1 1.414 0l8.586 8.586a1 1 0 0 1-1.414 1.414L20 11.414V20a2 2 0 0 1-2 2h-4a1 1 0 0 1-1-1v-4H11v4a1 1 0 0 1-1 1H6a2 2 0 0 1-2-2v-8.586l-.293.293A1 1 0 0 1 2.293 10.88l8.414-8.586Z"/>
    </svg>
  </a>

  <!-- Kütüphaneler + Proje kodu -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="script.js?v=6"></script>
  <script>
    window.addEventListener('DOMContentLoaded', () => window.initSayfa?.());
  </script>
</body>
</html>