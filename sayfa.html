<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Çalışma Kağıdı - Problem Dünyası</title>
  <link rel="stylesheet" href="stil.css" />
  <style>
    /* Sayfaya özel ufak düzeltmeler */
    .form-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 12px;
      margin: 16px 0 20px;
    }
    .form-grid .field { display: grid; gap: 6px; }
    .form-grid label { font-weight: 600; }
    .actions { display:flex; flex-wrap:wrap; gap:10px; margin-bottom: 16px; }
    .actions button {
      padding:10px 14px; border:1px solid rgba(0,0,0,.1);
      border-radius:12px; background: #fff; cursor:pointer;
    }
    .paper {
      background:#fff; padding:20px; border-radius:16px;
      border:1px solid rgba(0,0,0,.06);
    }
    .questions-grid {
      display:grid; gap:12px; grid-template-columns: repeat(2, 1fr);
    }
    .q { padding:10px 12px; border:1px dashed rgba(0,0,0,.2); border-radius:10px; min-height:52px; }
    .pdf-header-preview {
      display:flex; flex-direction:column; align-items:center; text-align:center; gap:6px;
      padding: 4px 0 14px; border-bottom: 2px solid rgba(0,0,0,.08); margin-bottom: 12px;
    }
    .pdf-header-preview .big { font-size: clamp(20px, 3.6vw, 28px); font-weight: 800; }
    .pdf-header-preview .sub { opacity:.9; }
    @media print {
      .actions, .home-btn { display:none !important; }
      body { background:#fff !important; }
    }
  </style>
</head>
<body>

  <main class="container">
    <h1>Çalışma Kâğıdı Oluştur</h1>

    <section class="paper">
      <!-- PDF üst başlık önizlemesi (PDF'e de aynı yapı çizilecek) -->
      <div id="pdfHeader" class="pdf-header-preview">
        <div class="big" id="hdrTitle">1. Sınıf – Toplama</div>
        <div class="sub"><span id="hdrName">Ad Soyad</span> • <span id="hdrDate">__/__/____</span></div>
      </div>

      <!-- Form alanları (Zorluk ve Okul kaldırıldı) -->
      <div class="form-grid">
        <div class="field">
          <label for="sinif">Sınıf</label>
          <select id="sinif">
            <option value="1">1. Sınıf</option>
            <option value="2">2. Sınıf</option>
            <option value="3">3. Sınıf</option>
            <option value="4">4. Sınıf</option>
          </select>
        </div>

        <div class="field">
          <label for="konu">Konu</label>
          <select id="konu">
            <option value="">Konu yükleniyor…</option>
          </select>
        </div>

        <div class="field">
          <label for="adsoyad">Ad Soyad</label>
          <input id="adsoyad" type="text" placeholder="Örn: Ali Veli" />
        </div>

        <div class="field">
          <label for="tarih">Tarih</label>
          <input id="tarih" type="date" />
        </div>
      </div>

      <div class="actions">
        <button id="btnOlustur">Soruları Oluştur</button>
        <button id="btnPDF">PDF İndir</button>
        <button id="btnYazdir">Yazdır</button>
      </div>

      <!-- Sorular alanı -->
      <div id="questions" class="questions-grid" aria-live="polite"></div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="footer-inner">
      <nav class="footer-links">
        <a href="hakkimizda.html">Hakkımızda</a>
        <a href="gizlilik.html">Gizlilik</a>
        <a href="cerezler.html">Çerezler</a>
        <a href="kvkk.html">KVKK</a>
        <a href="feedback.html">İletişim</a>
      </nav>
      <p class="copyright">© <span id="yil"></span> Problem Dünyası</p>
    </div>
    <script>document.getElementById('yil').textContent = new Date().getFullYear();</script>
  </footer>

  <!-- Ana sayfa simgesi -->
  <a class="home-btn" href="index.html" aria-label="Ana sayfa">
    <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="22" height="22">
      <path d="M10.707 2.293a1 1 0 0 1 1.414 0l8.586 8.586a1 1 0 0 1-1.414 1.414L20 11.414V20a2 2 0 0 1-2 2h-4a1 1 0 0 1-1-1v-4H11v4a1 1 0 0 1-1 1H6a2 2 0 0 1-2-2v-8.586l-.293.293A1 1 0 0 1 2.293 10.88l8.414-8.586Z"/>
    </svg>
  </a>

  <!-- === SCRIPTLER (sıra önemli) === -->
  <!-- 1) Harici kütüphaneler -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <!-- 2) Proje kodu -->
  <script src="script.js"></script>

  <!-- 3) Sayfayı başlat -->
  <script>
    window.addEventListener('DOMContentLoaded', () => window.initSayfa?.());
  </script>
</body>
</html>
