<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Çalışma Kâğıdı Oluştur</title>

  <!-- Yazı tipi ve stil -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="stil.css" />
</head>
<body class="page">

  <!-- Üst başlık -->
  <header class="page-header">
    <a class="back" href="index.html">← Ana sayfa</a>
    <h1 id="baslik">Sınıf</h1>
  </header>

  <!-- Kontroller (ekranda; yazdırda gizli) -->
  <section class="controls glass">
    <div class="control-row">
      <label class="control-tile">
        Konu:
        <select id="konuSelect"></select>
      </label>

      <label class="control-tile">
        Zorluk:
        <select id="zorluk">
          <option value="kolay">Kolay</option>
          <option value="orta" selected>Orta</option>
          <option value="zor">Zor</option>
        </select>
      </label>

      <label class="control-tile">
        Ad Soyad:
        <input id="adSoyad" placeholder="Öğrenci adı" />
      </label>

      <label class="control-tile">
        Tarih:
        <input id="tarih" type="date" />
      </label>

      <label class="control-tile">
        Okul:
        <input id="okul" placeholder="Okul adı" />
      </label>
    </div>

    <div class="control-row">
      <button id="olusturBtn" class="btn primary">🎲 Yeni Kağıt Oluştur</button>
      <button id="pdfBtn" class="btn">📄 PDF İndir</button>
      <button id="printBtn" class="btn">🖨️ Yazdır</button>
    </div>
  </section>

  <!-- Yazdır/PDF alanı -->
  <section id="printArea" class="questions shadow paper">
    <header class="paper-header">
      <div><strong>Adı Soyadı:</strong> <span id="h_ad"></span></div>
      <div><strong>Tarih:</strong> <span id="h_tarih"></span></div>
      <div><strong>Sınıf/Konu:</strong> <span id="h_sinifKonu"></span></div>
      <!-- NOT: “Okulu” ve “Zorluk” satırları kaldırıldı -->
    </header>

    <div class="paper-body">
      <ol id="soruListe" class="two-col"></ol>
    </div>

    <footer class="paper-footer">Problem Dünyası • Sayfa 1/1</footer>
  </section>

  <!-- Site altbilgi (tek kopya) -->
  <footer class="site-footer">
    <div class="footer-inner">
      <nav class="footer-links">
        <a href="hakkimizda.html">Hakkımızda</a>
        <a href="gizlilik.html">Gizlilik</a>
        <a href="cerezler.html">Çerezler</a>
        <a href="kvkk.html">KVKK</a>
        <a href="feedback.html">İletişim</a>
      </nav>
      <p class="copyright">
        © <span id="yil"></span> Problem Dünyası
      </p>
    </div>
    <script>document.getElementById('yil').textContent = new Date().getFullYear();</script>
  </footer>

  <!-- Ana sayfa simgesi (doğru yer: body kapanışından hemen önce) -->
  <a class="home-btn" href="index.html" aria-label="Ana sayfa">
    <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
      <path d="M10.707 2.293a1 1 0 0 1 1.414 0l8.586 8.586a1 1 0 0 1-1.414 1.414L20 11.414V20a2 2 0 0 1-2 2h-4a1 1 0 0 1-1-1v-4H11v4a1 1 0 0 1-1 1H6a2 2 0 0 1-2-2v-8.586l-.293.293A1 1 0 0 1 2.293 10.88l8.414-8.586Z"/>
    </svg>
  </a>

  <!-- === SCRIPTLER (sıra önemli) === -->
  <!-- 1) Harici kütüphaneler -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <!-- 2) Proje kodu (tek kopya) -->
  <script src="script.js"></script>

  <!-- 3) Sayfayı başlat -->
  <script>
    window.addEventListener('DOMContentLoaded', () => window.initSayfa?.());
  </script>
</body>
</html>
