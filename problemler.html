
<!doctype html><html lang="tr"><head><meta charset="utf-8"><title>Problemler</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script></head>
<body><div class="container"><h1 id="title">Problemler</h1>
<button class="btn" id="pdf-btn">PDF İndir</button>
<div id="problem-list"></div><div class="footer"><a href="konular.html">← Geri</a></div></div>
<script src="script.js"></script>
<script>
async function exportPDF(){
  const title=document.querySelector('#title').textContent;
  const pdf=new jspdf.jsPDF('p','mm','a4');
  const problems=document.querySelectorAll('.problem');
  const pageWidth=210,pageHeight=297,margin=10,colW=(pageWidth-3*margin)/2,lineH=8;
  let x=margin,y=margin+20;
  pdf.setFont('helvetica','normal');pdf.setFontSize(14);
  pdf.text('Problemler Dünyası – '+title,margin,15);
  pdf.setFontSize(11);
  problems.forEach((p,i)=>{
    const text=(i+1)+'. '+p.textContent.trim();
    const split=pdf.splitTextToSize(text,colW-6);
    const h=split.length*lineH+6;
    if(y+h>pageHeight-margin){
      if(x+colW+margin>pageWidth-margin){pdf.addPage();x=margin;y=margin+20;}
      else{x+=colW+margin;y=margin+20;}
    }
    pdf.setDrawColor(180);
    pdf.rect(x,y,colW,h);
    pdf.text(split,x+3,y+lineH);
    y+=h+6;
  });
  const pages=pdf.internal.getNumberOfPages();
  for(let i=1;i<=pages;i++){pdf.setPage(i);pdf.setFontSize(9);
    pdf.text(String(i),pageWidth/2,pageHeight-5,{align:'center'});}
  pdf.save('problemler.pdf');
}
</script></body></html>
